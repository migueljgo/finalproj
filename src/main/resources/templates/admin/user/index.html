<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Users List | Final Project</title>
</head>
<body>
<div th:replace="fragments/header :: headerAuthenticated"></div>

<main>
<div class="overflow-x-auto relative shadow-md sm:rounded-lg">
	<h1 class="font-bold text-center text-2xl my-4">Users List</h1>
	
	<a th:href="@{~/admin/user/create}" class="float-right my-2 mr-2 inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded-full shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out">
		Add
	</a>
	
    <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
        <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
            <tr>
                <th scope="col" class="py-3 px-6">
                    First Name
                </th>
                <th scope="col" class="py-3 px-6">
                    Last Name
                </th>
                <th scope="col" class="py-3 px-6">
                    Email 
                </th>
                <th scope="col" class="py-3 px-6">
                    Created At
                </th>
                <th scope="col" class="py-3 px-6">
                    Action
                </th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="user : ${userList}" userList class="bg-white border-b dark:bg-gray-900 dark:border-gray-700">
                <th th:text="${user.firstName}" class="py-4 px-6"></th>
                <td th:text="${user.lastName}" class="py-4 px-6" ></td>
                <td th:text="${user.emailAddress}" class="py-4 px-6"></td>
               	<td th:text="${user.dateCreated}" class="py-4 px-6"></td>
                <td class="py-4 px-6">
                    <a class="font-medium text-blue-600 dark:text-blue-500 hover:underline" 
                    	th:href="@{~/admin/user/{id}/edit(id=${user.id})}">
                    	Edit
                    </a>
                    
                    <form class="mt-1" th:method="delete" th:action="@{~/admin/user}">
			            <input type="hidden" name="id" th:value="${user.id}">
			            
			            <button type="submit" onClick="return confirm('Are you sure?')"
			            	class="font-medium text-red-600 dark:text-blue-500 hover:underline">
			            	Delete
		            	</button>
			        </form>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</main>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>
</html>